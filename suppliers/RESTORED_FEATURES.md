# ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤–∞–∂–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

## üéØ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1Ô∏è‚É£ **–ó–∞–º–µ–Ω–∞ —Ç–æ—á–∫–∏ –Ω–∞ –∑–∞–ø—è—Ç—É—é –≤ —Ü–µ–Ω–µ**

**–ë—ã–ª–æ:** `1234.50`  
**–°—Ç–∞–ª–æ:** `1234,5`

#### –ì–¥–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- **pipelines.py** (—Å—Ç—Ä–æ–∫–∞ 294-308)

```python
def _clean_price(self, price):
    """
    –û—á–∏—Å—Ç–∫–∞ —Ü–µ–Ω—ã –æ—Ç –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
    –ó–ê–ú–ï–ù–Ø–ï–¢ –¢–û–ß–ö–£ –ù–ê –ó–ê–ü–Ø–¢–£–Æ –≤ —Ü–µ–Ω–µ
    """
    # ... –æ—á–∏—Å—Ç–∫–∞ ...
    price_float = float(cleaned)
    return str(price_float).replace(".", ",")  # –¢–û–ß–ö–ê ‚Üí –ó–ê–ü–Ø–¢–ê–Ø
```

#### –ü—Ä–∏–º–µ—Ä—ã:
```
–í—Ö–æ–¥:  "2 537 –≥—Ä–Ω"  ‚Üí –í—ã—Ö–æ–¥: "2537,0"
–í—Ö–æ–¥:  "1234.50"    ‚Üí –í—ã—Ö–æ–¥: "1234,5"
–í—Ö–æ–¥:  "$45.99"     ‚Üí –í—ã—Ö–æ–¥: "45,99"
```

---

### 2Ô∏è‚É£ **–û—Å–æ–±–∏—Å—Ç—ñ –Ω–æ—Ç–∞—Ç–∫–∏ (–º–∞—Ä–∫–µ—Ä—ã)**

#### –î–ª—è —Ä–æ–∑–Ω–∏—á–Ω–æ–≥–æ –ø—Ä–∞–π—Å–∞ (viatec_retail.py):
```csv
–û—Å–æ–±–∏—Å—Ç—ñ_–Ω–æ—Ç–∞—Ç–∫–∏ = "PROM"
```

#### –î–ª—è –¥–∏–ª–µ—Ä—Å–∫–æ–≥–æ –ø—Ä–∞–π—Å–∞ (viatec_dealer.py):
```csv
–û—Å–æ–±–∏—Å—Ç—ñ_–Ω–æ—Ç–∞—Ç–∫–∏ = "V"
```

#### –ì–¥–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- **pipelines.py** (—Å—Ç—Ä–æ–∫–∏ 178-183)

```python
# ========== –û–°–û–ë–ò–°–¢–Ü –ù–û–¢–ê–¢–ö–ò ==========
price_type = adapter.get("price_type", "retail")

if price_type == "dealer":
    cleaned_item["–û—Å–æ–±–∏—Å—Ç—ñ_–Ω–æ—Ç–∞—Ç–∫–∏"] = "V"      # –î–∏–ª–µ—Ä
else:
    cleaned_item["–û—Å–æ–±–∏—Å—Ç—ñ_–Ω–æ—Ç–∞—Ç–∫–∏"] = "PROM"   # –†–æ–∑–Ω–∏—Ü–∞
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ CSV

### –†–æ–∑–Ω–∏—á–Ω—ã–π —Ñ–∞–π–ª (prom_import.csv):
```csv
–¶—ñ–Ω–∞;–û—Å–æ–±–∏—Å—Ç—ñ_–Ω–æ—Ç–∞—Ç–∫–∏
2537,0;PROM
1890,5;PROM
```

### –î–∏–ª–µ—Ä—Å–∫–∏–π —Ñ–∞–π–ª (prom_diler_import.csv):
```csv
–¶—ñ–Ω–∞;–û—Å–æ–±–∏—Å—Ç—ñ_–Ω–æ—Ç–∞—Ç–∫–∏
45,99;V
38,5;V
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –æ—Ç–∫—Ä–æ–π CSV –∏ —É–±–µ–¥–∏—Å—å:

1. ‚úÖ –í —Å—Ç–æ–ª–±—Ü–µ **–¶—ñ–Ω–∞** –∑–∞–ø—è—Ç–∞—è –≤–º–µ—Å—Ç–æ —Ç–æ—á–∫–∏: `1234,5`
2. ‚úÖ –í —Å—Ç–æ–ª–±—Ü–µ **–û—Å–æ–±–∏—Å—Ç—ñ_–Ω–æ—Ç–∞—Ç–∫–∏**:
   - –î–ª—è —Ä–æ–∑–Ω–∏—Ü—ã: `PROM`
   - –î–ª—è –¥–∏–ª–µ—Ä–∞: `V`

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã. –ó–∞–ø—É—Å–∫–∞–π spider'—ã:

```bash
# –†–æ–∑–Ω–∏—á–Ω—ã–π
scrapy crawl viatec_retail

# –î–∏–ª–µ—Ä—Å–∫–∏–π
scrapy crawl viatec_dealer
```

–ü—Ä–æ–≤–µ—Ä—è–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ `C:\FullStack\Scrapy\output\`
