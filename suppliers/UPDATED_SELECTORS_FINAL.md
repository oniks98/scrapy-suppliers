# üöÄ –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –°–ï–õ–ï–ö–¢–û–†–´ viatec.ua - –ò–¢–û–ì–û–í–ê–Ø –°–ü–†–ê–í–ö–ê

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1Ô∏è‚É£ **–¶–µ–Ω–∞** `div.card-header__card-price-new::text`
- ‚úÖ –ù–æ–≤—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è —Ä–æ–∑–Ω–∏—á–Ω–æ–π —Ü–µ–Ω—ã
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ `&nbsp;` –ø–µ—Ä–µ–¥ –ø–∞—Ä—Å–∏–Ω–≥–æ–º
- ‚ùå –£–¥–∞–ª–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã `span.price`, `div.price`

### 2Ô∏è‚É£ **–ö–æ–¥ —Ç–æ–≤–∞—Ä–∞** ‚Üí –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- ‚úÖ –ù–∞—á–∞–ª–æ: 200000
- ‚úÖ –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç: +1 –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
- ‚úÖ –ú–µ—Ç–æ–¥: `_generate_product_code()`
- ‚ùå –ë–æ–ª—å—à–µ –Ω–µ –∏—â–µ–º –≤ HTML

### 3Ô∏è‚É£ **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** `img.card-header__card-images-image::attr(src)`
- ‚úÖ –ù–æ–≤—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ —Ñ–æ—Ç–æ
- ‚ùå –£–¥–∞–ª–µ–Ω —Å—Ç–∞—Ä—ã–π `img.product-image`

### 4Ô∏è‚É£ **–û–ø–∏—Å–∞–Ω–∏–µ** `div.card-header__card-description p::text`
- ‚úÖ –ù–æ–≤—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –≤ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞—Ö
- ‚ùå –£–¥–∞–ª–µ–Ω —Å—Ç–∞—Ä—ã–π `div.description`

### 5Ô∏è‚É£ **–ù–∞–ª–∏—á–∏–µ** `div.card-header__card-status-badge::text`
- ‚úÖ –ù–æ–≤—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: —Ç–æ–ª—å–∫–æ "–í –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ" –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ CSV
- ‚ùå –£–¥–∞–ª–µ–Ω —Å—Ç–∞—Ä—ã–π `span.availability`

### 6Ô∏è‚É£ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å** ‚Üí –ò–∑ URL –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ + CSV –º–∞–ø–ø–∏–Ω–≥
- ‚úÖ –ò–∑–≤–ª–µ–∫–∞–µ–º –∏–∑ URL: `proizvoditel:hikvision` ‚Üí "hikvision"
- ‚úÖ –ú–∞–ø–ø–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ `manufacturers_viatec.csv`
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ spider
- ‚ùå –£–¥–∞–ª–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä `span.manufacturer` (–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ —Å–∞–π—Ç–µ)

### 7Ô∏è‚É£ **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏** `div.card-tabs__characteristic-content table tbody tr`
- ‚úÖ –ù–æ–≤—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞: `<th>` = –Ω–∞–∑–≤–∞–Ω–∏–µ, `<td>` = –∑–Ω–∞—á–µ–Ω–∏–µ
- ‚úÖ –ú–∞–∫—Å–∏–º—É–º 30 —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- ‚ùå –£–¥–∞–ª–µ–Ω —Å—Ç–∞—Ä—ã–π `table.specifications`

### 8Ô∏è‚É£ **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** `a.paggination__next::attr(href)`
- ‚úÖ –ù–æ–≤—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–î–∞–ª–µ–µ" / "‚Üí"
- ‚úÖ –†–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: –ø–æ–∏—Å–∫ –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –Ω—É–º–µ—Ä–∞—Ü–∏–∏
- ‚ùå –£–¥–∞–ª–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã `a.next-page`, `a[rel='next']`

---

## üî• –ö–†–ò–¢–ò–ß–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í PIPELINE

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: –¢–û–õ–¨–ö–û —Ç–æ–≤–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–∏ + —Å —Ü–µ–Ω–æ–π

```python
# –£—Å–ª–æ–≤–∏—è –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ CSV:
1. name != "" ‚úì
2. price != "" AND price > 0 ‚úì
3. availability == "–í –Ω–∞–ª–∏—á–∏–∏" ‚úì

# –ï—Å–ª–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω –ª—é–±–æ–π –∏–∑ –ø—É–Ω–∫—Ç–æ–≤:
‚Üí –¢–æ–≤–∞—Ä –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è (–Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ CSV)
‚Üí –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è: "‚è≠Ô∏è  –ü—Ä–æ–ø—É—â–µ–Ω —Ç–æ–≤–∞—Ä..."
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

```bash
# –í—ã–≤–æ–¥ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è spider:
‚úÖ –ó–∞–ø–∏—Å–∞–Ω–æ —Ä–æ–∑–Ω–∏—Ü—ã: 248 —Ç–æ–≤–∞—Ä–æ–≤
‚úÖ –ó–∞–ø–∏—Å–∞–Ω–æ –¥–∏–ª–µ—Ä–∞: 0 —Ç–æ–≤–∞—Ä–æ–≤
‚è≠Ô∏è  –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–æ: 152 —Ç–æ–≤–∞—Ä–∞
```

---

## üìù –§–ê–ô–õ–´ –î–õ–Ø –ü–†–û–í–ï–†–ö–ò

### –û—Å–Ω–æ–≤–Ω–æ–π spider
```
C:\FullStack\Scrapy\suppliers\suppliers\spiders\viatec_retail.py
```

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
- `parse_product()` - –ø–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–∞ —Å –Ω–æ–≤—ã–º–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º–∏
- `parse_category()` - –ø–∞–≥–∏–Ω–∞—Ü–∏—è —Å –Ω–æ–≤—ã–º —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º
- `_generate_product_code()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
- `_extract_manufacturer_from_url()` - –º–∞–ø–ø–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è
- `_extract_specifications()` - –ø–∞—Ä—Å–∏–Ω–≥ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫

### Pipeline —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
```
C:\FullStack\Scrapy\suppliers\suppliers\pipelines.py
```

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ `process_item()`:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω—ã (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞: "–í –Ω–∞–ª–∏—á–∏–∏")
- –û—á–∏—Å—Ç–∫–∞ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ú–∞–ø–ø–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π
```
C:\FullStack\Scrapy\data\manufacturers_viatec.csv
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ CSV:**
```
–°–ª–æ–≤–æ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–∞ ; –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å (–≤–∏—Ä–æ–±–Ω–∏–∫)
Hikvision                   ; Hikvision
Dahua                       ; Dahua Technology
...
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### 1. –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤

```bash
# Scrapy Shell
scrapy shell "https://viatec.ua/product/DS-2CD1321G0-I-28"

# –¢–µ—Å—Ç—ã
>>> response.css("h1::text").get()
'DS-2CD1321G0-I 2–ú–ü (2.8–º–º) IP –≤—ñ–¥–µ–æ–∫–∞–º–µ—Ä–∞ Hikvision'

>>> response.css("div.card-header__card-price-new::text").get()
'2\xa0537'

>>> response.css("div.card-header__card-status-badge::text").get()
'–í –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ'

>>> response.css("div.card-tabs__characteristic-content table tbody tr")
[<Selector>, <Selector>, <Selector>, ...]
```

### 2. –ü–æ–ª–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

```bash
# –ó–∞–ø—É—Å–∫ spider –Ω–∞ —Ç–µ—Å—Ç–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
scrapy crawl viatec_retail -a category_url="https://viatec.ua/catalog/cameras/proizvoditel:hikvision"
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–≤–æ–¥–∞ CSV

```bash
# –§–∞–π–ª—ã —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤:
C:\Users\stalk\Documents\Prom\

# prom_import.csv
# - –°–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä—ã: —Ü–µ–Ω–∞ > 0 –ò –≤ –Ω–∞–ª–∏—á–∏–∏
# - –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å: ;
# - –ö–æ–¥–∏—Ä–æ–≤–∫–∞: UTF-8
```

---

## üìä –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –£—Å–ø–µ—à–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–∞ (–ó–ê–ü–ò–°–´–í–ê–ï–¢–°–Ø –≤ CSV)

```
–ù–∞–∑–≤–∞–Ω–∏–µ: DS-2CD1321G0-I 2–ú–ü (2.8–º–º) IP –≤—ñ–¥–µ–æ–∫–∞–º–µ—Ä–∞ Hikvision
–¶–µ–Ω–∞: 2537
–ö–æ–¥: 200000
–ù–∞—è–≤–Ω—ñ—Å—Ç—å: –í –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ ‚Üí –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è ‚Üí "–í –Ω–∞–ª–∏—á–∏–∏" ‚úì
–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å: Hikvision
–°—Ç–∞—Ç—É—Å: ‚úÖ –ó–ê–ü–ò–°–ê–ù –≤ prom_import.csv
```

### –¢–æ–≤–∞—Ä –ë–ï–ó –¶–ï–ù–´ (–ù–ï –ó–ê–ü–ò–°–´–í–ê–ï–¢–°–Ø)

```
–ù–∞–∑–≤–∞–Ω–∏–µ: (–µ—Å—Ç—å)
–¶–µ–Ω–∞: "" (–ø—É—Å—Ç–æ)
–°—Ç–∞—Ç—É—Å: ‚è≠Ô∏è  –ü–†–û–ü–£–©–ï–ù
–õ–æ–≥: "‚è≠Ô∏è  –ù–µ—Ç —Ü–µ–Ω—ã –¥–ª—è: ..."
```

### –¢–æ–≤–∞—Ä –ù–ï –í –ù–ê–õ–ò–ß–ò–ò (–ù–ï –ó–ê–ü–ò–°–´–í–ê–ï–¢–°–Ø)

```
–ù–∞–∑–≤–∞–Ω–∏–µ: (–µ—Å—Ç—å)
–¶–µ–Ω–∞: 2537
–ù–∞—è–≤–Ω—ñ—Å—Ç—å: "–ü—ñ–¥ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è"
–°—Ç–∞—Ç—É—Å: ‚è≠Ô∏è  –ü–†–û–ü–£–©–ï–ù
–õ–æ–≥: "‚è≠Ô∏è  –¢–æ–≤–∞—Ä –Ω–µ –≤ –Ω–∞–ª–∏—á–∏–∏: ... (–ü–æ–¥ –∑–∞–∫–∞–∑)"
```

---

## üîß –ö–û–ú–ê–ù–î–´ –ó–ê–ü–£–°–ö–ê

### 1. –ó–∞–ø—É—Å–∫ —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
```bash
cd C:\FullStack\Scrapy\suppliers
scrapy crawl viatec_retail
```

### 2. –ó–∞–ø—É—Å–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º DEBUG
```bash
scrapy crawl viatec_retail -L DEBUG
```

### 3. –ó–∞–ø—É—Å–∫ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ª–æ–≥–æ–≤
```bash
scrapy crawl viatec_retail > C:\logs\viatec_retail.log 2>&1
```

---

## üìà –ò–¢–û–ì–ò

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|-----------|--------|-----------|
| **–°–µ–ª–µ–∫—Ç–æ—Ä—ã** | ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã | –í—Å–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø–æ–¥ HTML viatec.ua |
| **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è** | ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞ | –¢–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä—ã —Å —Ü–µ–Ω–æ–π –ò –≤ –Ω–∞–ª–∏—á–∏–∏ |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å** | ‚úÖ CSV –º–∞–ø–ø–∏–Ω–≥ | –ò–∑ URL –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ + manufacturers_viatec.csv |
| **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏** | ‚úÖ –ü–∞—Ä—Å—è—Ç—Å—è | –¢–∞–±–ª–∏—Ü–∞ —Å th/td, –º–∞–∫—Å 30 —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ |
| **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ö–Ω–æ–ø–∫–∞ "–î–∞–ª–µ–µ" –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ |
| **–ö–æ–¥ —Ç–æ–≤–∞—Ä–∞** | ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è | –°—á–µ—Ç—á–∏–∫ 200000, 200001, ... |
| **CSV –≤—ã–≤–æ–¥** | ‚úÖ –ì–æ—Ç–æ–≤ | prom_import.csv –∏ prom_diler_import.csv |

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø

1. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –¢–æ–≤–∞—Ä—ã –ë–ï–ó –¶–ï–ù–´ –∏–ª–∏ –ù–ï –í –ù–ê–õ–ò–ß–ò–ò –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ CSV
2. **–¶–µ–Ω–∞**: –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å `&nbsp;` - —ç—Ç–æ –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å**: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–∑ URL –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–ø—Ä–æ–∏–∑–≤–æ –¥–∏—Ç–µ–ª—å:hikvision)
4. **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**: –ú–∞–∫—Å–∏–º—É–º 30 –∏–∑-–∑–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã PROM CSV
5. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è, –¥–æ –∫–æ–Ω—Ü–∞ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤

---

## üìû –ö–û–ù–¢–ê–ö–¢

–í—Å–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –∏ –ª–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤:
- `FIND_SELECTORS.md` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- `SELECTORS_QUICK_REF.md` - –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞
- –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ `viatec_retail.py` - –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
