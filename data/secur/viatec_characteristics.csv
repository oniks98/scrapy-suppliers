ЕСЛИ СОДЕРЖИТ;;ТОГДА СОЗДАТЬ;И ПРИСВОИТЬ
Назва_позиції;;Назва_Характеристики;Значення_Характеристики
"HDCVI, иначе (HD-TVI или HDTVI или Turbo HD), иначе IP";;Тип камери;"HDCVI, иначе HD-TVI, иначе IP"
"HFW, иначе PTZ, иначе HDW";;Форм-фактор;"Корпусний, Поворотний, Купольний"
PTZ;;Тип об'єктива;Моторизований
МП;;Роздільна здатність (Мп);Число перед МП
"Starlight, иначе ColorVu";;Перемикання режимів "День/ніч";"Starlight, иначе ColorVu"
;;;
ЕСЛИ;СОДЕРЖИТ;ТОГДА ПЕРЕИМЕНОВАТЬ;И ПРИСВОИТЬ
supplier_attribute;supplier_value_substring;prom_attribute;prom_value
Ступінь захисту;"(IP65 или IP66 или IP67 или IK10 или NEMA 4X или IP68 или IK8), иначе нет значения";Застосування;"(Внутрішня/Вулична), иначе Внутрішня"
Матриця;"Progressive Scan CMOS, иначе  CMOS и не содержит Progressive Scan CMOS";Тип матриці;"Progressive Scan CMOS, иначе CMOS"
Матриця;1/.."";Фізичний розмір матриці;1/.."
Відео компресія;значение;Формат стиснення;значение
Мережеві інтерфейси;Wi-Fi;Тип камери;Wi-Fi
Роздільна здатність відео;".. ×.., .. ×.., .. × .., .. × .., .. × ..";Роздільна здатність матриці;первое значение .. ×.. до запятой
Фокусна відстань;значение;Фокусна відстань (мм);только число из значения
Тип підсвічування;ІЧ;Наявність ІЧ-підсвічування;Так
Тип підсвічування;ІЧ+LED;Наявність LED-підсвічування;Так
Тригери тривоги;виявлення руху;Датчик руху;Так
Дальність підсвічування;значення;"Дальність LED підсвічування, м";только число из значения
Аудіо інтерфейси;вбудований мікрофон;Вбудований мікрофон;Так
Мережеві інтерфейси;Wi-Fi;Бездротовий інтерфейс;Так
WDR;значение;WDR;Так
Програмне забезпечення;DSS;DSS;Так
BLC;Підтримує;BLC;Так
Придушення шуму (DNR);значение;DNR;значение
;;;
;;;
;;;
Поставщик;;ПРОМ;
ЕСЛИ;СОДЕРЖИТ;ТОГДА ПЕРЕИМЕНОВАТЬ;И ПРИСВОИТЬ
Назва_Характеристики;Значення_Характеристики;Назва_Характеристики;Значення_Характеристики
Аудіо інтерфейси;вбудований мікрофон;Вбудований мікрофон;Так
;;;
;;;
;;;
Таблица №2 — извлечение характеристик из названия товара;;;
;;;
Точно как ты сейчас описал:;;;
;;;
name_substring;prom_attribute;prom_value;
4-канальний;Кількість каналів;4;
8-канальний;Кількість каналів;8;
16-канальний;Кількість каналів;16;
4CH;Кількість каналів;4;
;;;
;;;
Пример:;;;
;;;
Название:;;;
Відеореєстратор VIASecurity VIA-NVR04V1Q 4-канальний;;;
;;;
Pipeline делает:;;;
;;;
raw_name = "Відеореєстратор ... 4-канальний";;;
;;;
проверяем name_substring:;;;
"    если в названии есть ""4-канальний"" → prom_attribute=""Кількість каналів"", prom_value=""4""";;;
;;;
;;;
;;;
3. Полная логика в Pipeline должна быть такой;;;
;;;
Этап 1 — получить характеристики поставщика;;;
;;;
raw_attributes;;;
;;;
Этап 2 — нормализовать их через mapping №1;;;
;;;
normalized_attributes;;;
;;;
Этап 3 — проверить каждый шаблон из mapping №2 (анализ названия);;;
;;;
Если substring найден → добавить характеристику.;;;
;;;
name_enriched_attributes = normalized_attributes + extracted_from_name;;;
;;;
Этап 4 — финальная выгрузка в CSV под Пром;;;
;;;
Готово.;;;
