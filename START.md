# spider'–∏

python scripts/ultra_clean_run.py viatec_dealer
python scripts/ultra_clean_run.py viatec_retail

python scripts/ultra_clean_run.py secur_retail
python scripts/ultra_clean_run.py lun_retail
python scripts/ultra_clean_run.py neolight_retail

# –ó –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—é —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—î—é (–¥–ª—è eserver_retail)

python scripts/ultra_clean_run.py eserver_retail

# –ë–µ–∑ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó

python scripts/ultra_clean_run.py eserver_retail --no-transform

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤

python scripts/update_products.py viatec dealer
python scripts/update_products.py viatec retail

python scripts/update_products.py eserver retail

# –í—Å—ñ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∏ (dealer + retail)

python update_products.py

# Scripts Directory

–¶–µ–π –∫–∞—Ç–∞–ª–æ–≥ –º—ñ—Å—Ç–∏—Ç—å –¥–æ–ø–æ–º—ñ–∂–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –ø—Ä–æ–µ–∫—Ç–æ–º Scrapy.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏ –∑–∞–ø—É—Å–∫—É

#### üöÄ `ultra_clean_run.py` ‚Äî **–†–ï–ö–û–ú–ï–ù–î–£–Ñ–¢–¨–°–Ø**

**–ù–∞–π–∫—Ä–∞—â–∏–π –≤–∏–±—ñ—Ä –¥–ª—è –≤—Å—ñ—Ö –≤–∏–ø–∞–¥–∫—ñ–≤!**

‚úÖ **–ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**

- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–∏—Å—Ç—ñ –ª–æ–≥–∏ (–ø–∞—Ç—á–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –ª–æ–≥—É–≤–∞–Ω–Ω—è Scrapy)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è retail ‚Üí prom (–¥–ª—è `eserver_retail`)
- –ü—Ä–∏—Ö–æ–≤—É—î –≤—Å—ñ DeprecationWarning
- –î–µ—Ç–∞–ª—å–Ω—ñ exit codes
- –ö—Ä–∞—Å–∏–≤—ñ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω—ñ –±–∞–Ω–µ—Ä–∏

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**

```bash
# –ó –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—é —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—î—é (–¥–ª—è eserver_retail)
python scripts/ultra_clean_run.py eserver_retail

# –ë–µ–∑ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó
python scripts/ultra_clean_run.py eserver_retail --no-transform

# –Ü–Ω—à—ñ spider'–∏
python scripts/ultra_clean_run.py viatec_retail
```

#### üßπ `clean_run.py` ‚Äî –ü—Ä–æ—Å—Ç–∏–π —Ç–∞ —à–≤–∏–¥–∫–∏–π

**–õ–µ–≥–∫–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è**

‚úÖ **–ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**

- –ë–∞–∑–æ–≤–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ª–æ–≥—ñ–≤
- –®–≤–∏–¥–∫–∏–π –∑–∞–ø—É—Å–∫
- –ú—ñ–Ω—ñ–º–∞–ª—ñ—Å—Ç–∏—á–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**

```bash
python scripts/clean_run.py viatec_retail
python scripts/clean_run.py eserver_retail
```

---

### –Ü–Ω—à—ñ —Å–∫—Ä–∏–ø—Ç–∏

- **`transform_retail_to_prom.py`** - –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è retail –≤–µ—Ä—Å—ñ—ó –≤ prom –≤–µ—Ä—Å—ñ—é
- **`update_products.py`** - –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤
- **`test_availability.py`** - –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ —Ç–æ–≤–∞—Ä—ñ–≤

### Batch/Shell —Å–∫—Ä–∏–ø—Ç–∏

- **`run_update.bat`** - Windows –∑–∞–ø—É—Å–∫ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤
- **`run_clean.sh`** - Linux/Mac —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ª–æ–≥—ñ–≤

---

## üéØ –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —è–∫–∏–π —Å–∫—Ä–∏–ø—Ç?

### –î–ª—è `eserver_retail`

```bash
# ‚úÖ –ù–ê–ô–ö–†–ê–©–ï: –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è
python scripts/ultra_clean_run.py eserver_retail

# ‚ö†Ô∏è –ë–µ–∑ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó (—Ä—ñ–¥–∫–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
python scripts/ultra_clean_run.py eserver_retail --no-transform
```

### –î–ª—è `viatec_retail` —Ç–∞ —ñ–Ω—à–∏—Ö

```bash
# ‚úÖ –®–≤–∏–¥–∫–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç
python scripts/clean_run.py viatec_retail

# ‚úÖ –¢–∞–∫–æ–∂ –º–æ–∂–Ω–∞ (—á–∏—Å—Ç—ñ—à—ñ –ª–æ–≥–∏)
python scripts/ultra_clean_run.py viatec_retail
```

---

## üöÄ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ß–µ—Ä–µ–∑ wrapper (–†–ï–ö–û–ú–ï–ù–î–£–Ñ–¢–¨–°–Ø)

**Windows:**

```batch
run_spider.bat eserver_retail
run_spider.bat viatec_retail
```

**Linux/Mac:**

```bash
./run_spider.sh eserver_retail
./run_spider.sh viatec_retail
```

Wrapper'–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å `ultra_clean_run.py`!

---

### –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è retail ‚Üí prom

```bash
python scripts/transform_retail_to_prom.py
```

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤

```bash
python scripts/update_products.py

# –ê–±–æ —á–µ—Ä–µ–∑ batch —Ñ–∞–π–ª (Windows)
scripts\run_update.bat
```

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ

```bash
python scripts/test_availability.py
```

---

## üîç –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è `clean_run.py` vs `ultra_clean_run.py`

| –§—É–Ω–∫—Ü—ñ—è            | `clean_run.py` | `ultra_clean_run.py` |
| ------------------ | -------------- | -------------------- |
| –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ª–æ–≥—ñ–≤   | ‚úÖ –ë–∞–∑–æ–≤–∞      | ‚úÖ **–†–æ–∑—à–∏—Ä–µ–Ω–∞**     |
| –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è      | ‚ùå             | ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞**   |
| DeprecationWarning | ‚ùå             | ‚úÖ **–ü—Ä–∏—Ö–æ–≤–∞–Ω—ñ**     |
| –ü–∞—Ç—á–∏–Ω–≥ Scrapy     | ‚ùå             | ‚úÖ **–Ñ**             |
| –ë–∞–Ω–µ—Ä–∏             | ‚ùå             | ‚úÖ **–Ñ**             |
| Exit codes         | ‚ö†Ô∏è –ü—Ä–æ—Å—Ç—ñ      | ‚úÖ **–î–µ—Ç–∞–ª—å–Ω—ñ**      |

**–í–∏—Å–Ω–æ–≤–æ–∫:** `ultra_clean_run.py` ‚Äî —Ü–µ –ø–æ–∫—Ä–∞—â–µ–Ω–∞ –≤–µ—Ä—Å—ñ—è –∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏!

---

## üìã –ü—Ä–∏–º—ñ—Ç–∫–∏

- –£—Å—ñ —Å–∫—Ä–∏–ø—Ç–∏ –ø–æ–≤–∏–Ω–Ω—ñ –∑–∞–ø—É—Å–∫–∞—Ç–∏—Å—è –∑ **–∫–æ—Ä–µ–Ω—è –ø—Ä–æ–µ–∫—Ç—É**
- –î–ª—è Windows –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `.bat` —Ñ–∞–π–ª–∏
- –î–ª—è Linux/Mac –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `.sh` —Ñ–∞–π–ª–∏
- `scrapy.cfg` –º–∞—î –∑–∞–ª–∏—à–∞—Ç–∏—Å—è –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É

---

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ:

1. –í—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–µ
2. –£—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ (`pip install -r requirements.txt`)
3. `SCRAPY_SETTINGS_MODULE` –≤–∫–∞–∑—É—î –Ω–∞ `suppliers.settings`

# –°–∫—Ä–∏–ø—Ç –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤

## üìã –û–ø–∏—Å

–°–∫—Ä–∏–ø—Ç –ø–æ—Ä—ñ–≤–Ω—é—î —Å—Ç–∞—Ä–∏–π —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤ –∑ –≤–∞—à–æ–≥–æ —Å–∞–π—Ç—É –∑ –Ω–æ–≤–∏–º —Å–ø–∏—Å–∫–æ–º –≤—ñ–¥ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞ —Ç–∞ —Å—Ç–≤–æ—Ä—é—î —Ñ–∞–π–ª –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É –∑ –æ–Ω–æ–≤–ª–µ–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏.

## üéØ –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏

### 1. –¢–æ–≤–∞—Ä–∏, —â–æ —ñ—Å–Ω—É—é—Ç—å –≤ –æ–±–æ—Ö —Ñ–∞–π–ª–∞—Ö:

- ‚úÖ **–ù–∞—è–≤–Ω—ñ—Å—Ç—å –¢–ê –ö—ñ–ª—å–∫—ñ—Å—Ç—å –æ–¥–Ω–∞–∫–æ–≤—ñ** ‚Üí –ù–ï –¥–æ–¥–∞—î–º–æ –≤ import (–Ω–µ–º–∞ —â–æ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏)
- üîÑ **–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—ñ–∑–Ω—ñ** ‚Üí –î–æ–¥–∞—î–º–æ –∑—ñ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–∞–π–ª—É –∑ –ù–û–í–û–Æ –ö—ñ–ª—å–∫—ñ—Å—Ç—å
- üîÑ **–ù–∞—è–≤–Ω—ñ—Å—Ç—å —Ä—ñ–∑–Ω—ñ** ‚Üí –î–æ–¥–∞—î–º–æ –∑—ñ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–∞–π–ª—É –∑ –ù–û–í–û–Æ –ù–∞—è–≤–Ω—ñ—Å—Ç—å
- üîÑ **–û–±–∏–¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ä—ñ–∑–Ω—ñ** ‚Üí –î–æ–¥–∞—î–º–æ –∑—ñ —Å—Ç–∞—Ä–æ–≥–æ –∑ –û–ë–û–ú–ê –Ω–æ–≤–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏

### 2. –ù–æ–≤—ñ —Ç–æ–≤–∞—Ä–∏ (—î –≤ new, –Ω–µ–º–∞—î –≤ old):

- ‚ûï –î–æ–¥–∞—é—Ç—å—Å—è –≤ –ö–Ü–ù–ï–¶–¨ —Ñ–∞–π–ª—É
- üî¢ –ö–æ–¥ —Ç–æ–≤–∞—Ä—É = –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –∫–æ–¥ –∑—ñ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–∞–π–ª—É + 1, + 2, + 3...

### 3. –í—ñ–¥—Å—É—Ç–Ω—ñ —Ç–æ–≤–∞—Ä–∏ (—î –≤ old, –Ω–µ–º–∞—î –≤ new):

- ‚ö†Ô∏è –î–æ–¥–∞—é—Ç—å—Å—è –∑ –ù–∞—è–≤–Ω—ñ—Å—Ç—å = "-" —Ç–∞ –ö—ñ–ª—å–∫—ñ—Å—Ç—å = "0" (–ø–æ–∑–Ω–∞—á–∞—î –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —É –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
C:\FullStack\Scrapy\
‚îú‚îÄ‚îÄ scripts\
‚îÇ   ‚îî‚îÄ‚îÄ update_products.py      ‚Üê –û—Å–Ω–æ–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ run_update.bat              ‚Üê –®–≤–∏–¥–∫–∏–π –∑–∞–ø—É—Å–∫
‚îú‚îÄ‚îÄ data\
‚îÇ   ‚îî‚îÄ‚îÄ viatec\
‚îÇ       ‚îú‚îÄ‚îÄ old_products.csv    ‚Üê –°—Ç–∞—Ä–∏–π —Å–ø–∏—Å–æ–∫ (–∑ –≤–∞—à–æ–≥–æ —Å–∞–π—Ç—É)
‚îÇ       ‚îú‚îÄ‚îÄ new_products.csv    ‚Üê –ù–æ–≤–∏–π —Å–ø–∏—Å–æ–∫ (–≤—ñ–¥ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞)
‚îÇ       ‚îî‚îÄ‚îÄ import_products.csv ‚Üê –†–ï–ó–£–õ–¨–¢–ê–¢ (–¥–ª—è —ñ–º–ø–æ—Ä—Ç—É)
```

## üöÄ –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ BAT —Ñ–∞–π–ª (–Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ)

```bash
# –ü–æ–¥–≤—ñ–π–Ω–∏–π –∫–ª—ñ–∫ –Ω–∞ —Ñ–∞–π–ª —É –ø—Ä–æ–≤—ñ–¥–Ω–∏–∫—É Windows:
run_update.bat
```

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Python

```bash
cd C:\FullStack\Scrapy
python scripts\update_products.py
```

### –í–∞—Ä—ñ–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ Python 3

```bash
cd C:\FullStack\Scrapy
python3 scripts\update_products.py
```

## üìä –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–≤–æ–¥—É

```
============================================================
üöÄ –°–ö–†–ò–ü–¢ –û–ù–û–í–õ–ï–ù–ù–Ø –¢–û–í–ê–†–Ü–í v1.2
============================================================

üìÅ –§–∞–π–ª–∏:
   –°—Ç–∞—Ä–∏–π: C:\FullStack\Scrapy\data\viatec\old_products.csv
   –ù–æ–≤–∏–π:  C:\FullStack\Scrapy\data\viatec\new_products.csv
   –í–∏—Ö—ñ–¥:  C:\FullStack\Scrapy\data\viatec\import_products.csv

‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω–æ 4 —Ç–æ–≤–∞—Ä—ñ–≤ –∑ old_products.csv
   –ö–æ–ª–æ–Ω–æ–∫: 250
‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω–æ 4 —Ç–æ–≤–∞—Ä—ñ–≤ –∑ new_products.csv
   –ö–æ–ª–æ–Ω–æ–∫: 250

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   –°—Ç–∞—Ä–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤: 4
   –ù–æ–≤–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤: 4

üîÑ –û–±—Ä–æ–±–∫–∞ —ñ—Å–Ω—É—é—á–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤...
‚ûï –û–±—Ä–æ–±–∫–∞ –Ω–æ–≤–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤...

üíæ –ó–∞–ø–∏—Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤...
‚úÖ –§–∞–π–ª —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ!

============================================================
üìà –ü–Ü–î–°–£–ú–ö–û–í–ê –°–¢–ê–¢–ò–°–¢–ò–ö–ê:
============================================================
  –ë–µ–∑ –∑–º—ñ–Ω (–Ω–µ –¥–æ–¥–∞–Ω–æ):           1
  –ó–º—ñ–Ω–∏–ª–∞—Å—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å:            1
  –ó–º—ñ–Ω–∏–ª–∞—Å—è –Ω–∞—è–≤–Ω—ñ—Å—Ç—å:            1
  –ó–º—ñ–Ω–∏–ª–æ—Å—è –æ–±–∏–¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:     0
  –í—ñ–¥—Å—É—Ç–Ω—ñ –≤ –Ω–æ–≤–æ–º—É —Ñ–∞–π–ª—ñ:        1
  –ù–æ–≤—ñ —Ç–æ–≤–∞—Ä–∏:                    1
------------------------------------------------------------
  –í–°–¨–û–ì–û –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É:             4
============================================================

‚úÖ –ì–æ—Ç–æ–≤–æ!
```

## üîç –Ø–∫ –ø—Ä–∞—Ü—é—î –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è

–°–∫—Ä–∏–ø—Ç –ø–æ—Ä—ñ–≤–Ω—é—î —Ç–æ–≤–∞—Ä–∏ **–ø–æ –Ω–∞–∑–≤—ñ** (–∫–æ–ª–æ–Ω–∫–∞ `–ù–∞–∑–≤–∞_–ø–æ–∑–∏—Ü—ñ—ó`), —Ç–æ–º—É —â–æ:

- –ö–æ–¥–∏ —Ç–æ–≤–∞—Ä—ñ–≤ –º–æ–∂—É—Ç—å –Ω–µ —Å–ø—ñ–≤–ø–∞–¥–∞—Ç–∏
- –ù–∞–∑–≤–∞ —Ç–æ–≤–∞—Ä—É - —Ü–µ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä

**–í–∞–∂–ª–∏–≤–æ:** –ù–∞–∑–≤–∏ –ø–æ—Ä—ñ–≤–Ω—é—é—Ç—å—Å—è –ø—ñ—Å–ª—è –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó (–ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è –∑–∞–π–≤–∏—Ö –ø—Ä–æ–±—ñ–ª—ñ–≤)

## ‚öôÔ∏è –©–æ —Ä–æ–±–∏—Ç—å —Å–∫—Ä–∏–ø—Ç

1. üìñ –ß–∏—Ç–∞—î old_products.csv —Ç–∞ new_products.csv
2. üîç –°—Ç–≤–æ—Ä—é—î —ñ–Ω–¥–µ–∫—Å —Ç–æ–≤–∞—Ä—ñ–≤ –ø–æ –Ω–∞–∑–≤—ñ –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –ø–æ—à—É–∫—É
3. üîÑ –ü—Ä–æ—Ö–æ–¥–∏—Ç—å –ø–æ –≤—Å—ñ—Ö —Ç–æ–≤–∞—Ä–∞—Ö –∑—ñ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–∞–π–ª—É:
   - –®—É–∫–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π —Ç–æ–≤–∞—Ä —É –Ω–æ–≤–æ–º—É —Ñ–∞–π–ª—ñ **–ø–æ –Ω–∞–∑–≤—ñ**
   - –ü–æ—Ä—ñ–≤–Ω—é—î –ù–∞—è–≤–Ω—ñ—Å—Ç—å —Ç–∞ –ö—ñ–ª—å–∫—ñ—Å—Ç—å
   - –î–æ–¥–∞—î –≤ —ñ–º–ø–æ—Ä—Ç —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ —î –∑–º—ñ–Ω–∏
4. ‚ûï –î–æ–¥–∞—î –Ω–æ–≤—ñ —Ç–æ–≤–∞—Ä–∏, —è–∫–∏—Ö –Ω–µ–º–∞—î –≤ —Å—Ç–∞—Ä–æ–º—É —Ñ–∞–π–ª—ñ
5. üíæ –ó–∞–ø–∏—Å—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ import_products.csv

## üõ†Ô∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–º—ñ–Ω–∏—Ç–∏ —à–ª—è—Ö–∏ –¥–æ —Ñ–∞–π–ª—ñ–≤, –≤—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Ü—ñ —Ä—è–¥–∫–∏ –≤ `scripts/update_products.py`:

```python
base_path = r"C:\FullStack\Scrapy\data\viatec"
old_file = os.path.join(base_path, "old_products.csv")
new_file = os.path.join(base_path, "new_products.csv")
output_file = os.path.join(base_path, "import_products.csv")
```

## ‚ùì –ü–∏—Ç–∞–Ω–Ω—è —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

**Q: –ß–æ–º—É –∫–æ–¥ —Ç–æ–≤–∞—Ä—É –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏—Å—è?**
A: –ù–æ–≤—ñ —Ç–æ–≤–∞—Ä–∏ –æ—Ç—Ä–∏–º—É—é—Ç—å –∫–æ–¥ = –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –∫–æ–¥ –∑—ñ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–∞–π–ª—É + 1

**Q: –©–æ —Ä–æ–±–∏—Ç–∏, —è–∫—â–æ —Ç–æ–≤–∞—Ä –≤–∏–¥–∞–ª–µ–Ω–∏–π —É –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞?**
A: –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–∞–≤–∏—Ç—å –ù–∞—è–≤–Ω—ñ—Å—Ç—å = "-" —Ç–∞ –ö—ñ–ª—å–∫—ñ—Å—Ç—å = "0" –¥–ª—è —Ç–∞–∫–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤

**Q: –ß–∏ –º–æ–∂–Ω–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∫—Ä–∏–ø—Ç –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤?**
A: –¢–∞–∫, import_products.csv –±—É–¥–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω–∏–π

**Q: –©–æ —è–∫—â–æ —É –Ω–æ–≤–æ–º—É —Ñ–∞–π–ª—ñ —ñ–Ω—à–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–ª–æ–Ω–æ–∫?**
A: –°–∫—Ä–∏–ø—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑—ñ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–∞–π–ª—É, –≤—Å—ñ –∫–æ–ª–æ–Ω–∫–∏ –±—É–¥—É—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω—ñ

**Q: –ß–∏ –∫–æ–ø—ñ—é—é—Ç—å—Å—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ç–æ–≤–∞—Ä—ñ–≤?**
A: –¢–∞–∫! –í—Å—ñ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∑—ñ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–∞–π–ª—É –∫–æ–ø—ñ—é—é—Ç—å—Å—è –ø–æ–≤–Ω—ñ—Å—Ç—é. –î–ª—è –Ω–æ–≤–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤ –±–µ—Ä—É—Ç—å—Å—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∑ –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª—É + –¥–æ–¥–∞—î—Ç—å—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑—ñ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–∞–π–ª—É.

## üìù –í–∏–º–æ–≥–∏

- Python 3.6+
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ Python (csv, os, typing)

## üêõ –ú–æ–∂–ª–∏–≤—ñ –ø–æ–º–∏–ª–∫–∏

**"–§–∞–π–ª –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"**

- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —à–ª—è—Ö–∏ –¥–æ —Ñ–∞–π–ª—ñ–≤
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ old_products.csv —Ç–∞ new_products.csv —ñ—Å–Ω—É—é—Ç—å

**"–ü–æ–º–∏–ª–∫–∞ —á–∏—Ç–∞–Ω–Ω—è —Ñ–∞–π–ª—É"**

- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–¥—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—É (–º–∞—î –±—É—Ç–∏ UTF-8 –∑ BOM)
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Ñ–∞–π–ª –Ω–µ –≤—ñ–¥–∫—Ä–∏—Ç–∏–π –≤ —ñ–Ω—à—ñ–π –ø—Ä–æ–≥—Ä–∞–º—ñ

## üìß –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –ø—Ä–æ–±–ª–µ–º–∏, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ:

1. –ß–∏ —ñ—Å–Ω—É—é—Ç—å –≤—Ö—ñ–¥–Ω—ñ —Ñ–∞–π–ª–∏
2. –ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ —à–ª—è—Ö–∏ –¥–æ —Ñ–∞–π–ª—ñ–≤
3. –ß–∏ –Ω–µ –≤—ñ–¥–∫—Ä–∏—Ç–∏–π —Ñ–∞–π–ª –≤ Excel –∞–±–æ —ñ–Ω—à—ñ–π –ø—Ä–æ–≥—Ä–∞–º—ñ

## üìù –Ü—Å—Ç–æ—Ä—ñ—è –≤–µ—Ä—Å—ñ–π

### v1.2 (16.12.2024)

- ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —Ç–æ–≤–∞—Ä—ñ–≤
- ‚úÖ –î–æ–¥–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é `ensure_all_fields()` –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ–≥–æ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ–ª—ñ–≤
- ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω–æ –æ–±—Ä–æ–±–∫—É –Ω–æ–≤–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤
- ‚úÖ –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ –ø–∞–ø–∫—É `scripts/`

### v1.1 (16.12.2024)

- ‚úÖ –î–æ–¥–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É —É—Å—Ç–∞–Ω–æ–≤–∫—É –ö—ñ–ª—å–∫—ñ—Å—Ç—å = "0" –¥–ª—è –≤—ñ–¥—Å—É—Ç–Ω—ñ—Ö —Ç–æ–≤–∞—Ä—ñ–≤
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é

### v1.0 (16.12.2024)

- üéâ –ü–µ—Ä—à–∏–π —Ä–µ–ª—ñ–∑
